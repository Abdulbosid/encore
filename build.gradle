apply plugin: 'com.android.application'

def getDate() {
    def date = new Date()
    def formattedDate = date.format('yyyyMMddHHmm')
    return formattedDate
}

android {
    compileSdkVersion 22
    buildToolsVersion '22.0.1'

    defaultConfig {
        minSdkVersion 16
        targetSdkVersion 22
        versionCode 9
        versionName "0.2.2"
        renderscriptTargetApi = 18
    }

    buildTypes {
        debug {

        }
        release {
            // minifyEnabled = false
        }
    }

    dexOptions {
        // incremental true
        preDexLibraries true
    }

    productFlavors {
        production {
            versionName defaultConfig.versionName
        }
        dogfood {
            versionName defaultConfig.versionName + "-dogfood-" + getDate()
        }
        dev_xplod {
            versionName defaultConfig.versionName + "-dev-xplod-" + getDate()
        }
    }

    sourceSets.main {
        jniLibs.srcDir 'src/main/libs'
        jni.srcDirs = []
    }
    packagingOptions {
        // provided by providerlib already
        exclude 'lib/armeabi-v7a/libc++_shared.so'
    }
}

dependencies {
    compile project(':providerlib')
    compile project(':google_play_services')
    compile files('src/main/libs/jEN.jar')
    compile files('src/main/libs/json_simple-1.1.jar')
    compile files('src/main/libs/google-play-services.jar')
    compile files('src/main/libs/java_websocket.jar')
    compile files('src/main/libs/calligraphy-1.1.0.jar')
    compile files('src/main/libs/sentry-1.1.4.jar')
    compile 'com.android.support:support-v13:22.0.0'
    compile 'com.android.support:mediarouter-v7:22.0.0'
    compile 'com.android.support:cardview-v7:22.0.0'
    compile 'com.android.support:palette-v7:22.0.0'
    compile 'com.android.support:recyclerview-v7:22.0.0'
    compile 'com.android.support:support-v4:22.0.0'
}
